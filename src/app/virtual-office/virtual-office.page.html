<ion-header>
  <ion-toolbar class="bar">
      <ion-buttons  slot="start">
          <!--button ion-button menuToggle class="toggle">
              <ion-icon name="menu" class="icon-toggle"></ion-icon>
          </button-->
          <ion-menu-button autoHide="false" class="toggle"></ion-menu-button>
      </ion-buttons>
    <ion-title>
        <img
        src="assets/imgs_test/logo.png"
        height="40px"
        width="80px"
        alt="No Image"/>
    </ion-title>
    <ion-label slot="end" class="hola">
      <ion-icon [name]="nube" class="icono" #icono id="enable"  (click)="conection()"></ion-icon>
      <ion-icon *ngIf="!currentUser" name="contact" (click)="login()" class="icono"></ion-icon>
    </ion-label>
    <ion-label slot="end" class="hola">
      <u *ngIf="currentUser" (click)="presentAlertConfirm()">{{ nameUser }}</u>
    </ion-label>
  </ion-toolbar>
</ion-header>

<ion-content [scrollEvents]="true"
(ionScrollStart)="logScrollStart()"
(ionScroll)="logScrolling($event)"
(ionScrollEnd)="logScrollEnd()">
    <ion-item>
      <ion-slides page="true" [options]="slideOpts">
        <ion-slide *ngFor="let item of barnerSuperior">
          <img
              [src]="'https://setvmas.com/api/uploads/banners/'+item.ImageName"
              class="banner"
              alt="No Image"/> 
        </ion-slide>
      </ion-slides>
    </ion-item>
    <div class="buscar">
      <ion-grid>
          <ion-row>
            <ion-col size="auto" style="float:left">
                <ion-buttons class="round" style="padding: top 20px;">
                    <ion-button (click)="search()">
                      <ion-icon slot="icon-only" name="options" style="margin-left: -5px;"></ion-icon>
                    </ion-button>
                </ion-buttons>
            </ion-col>
            <ion-col size="0.5"></ion-col>
            <ion-col size="auto">
                <ion-input placeholder="¿QUÉ BUSCAS?..." *ngIf="bocina === false"><ion-icon class="search" name="search" slot="start"></ion-icon></ion-input>
                <ion-input placeholder="¿QUÉ BUSCAS?..." *ngIf="bocina === true" class="searchminim"><ion-icon class="search" name="search" slot="start"></ion-icon></ion-input>
            </ion-col>
            <ion-col size="2">
                <ion-buttons class="anunciar" style="padding: top -5px;" *ngIf="bocina === false">
                    <ion-button (click)="onNotificate()">
                        <img src="assets/imgs_test/notif1.png" height="auto" width="auto" slot="end"/>
                    </ion-button>
                </ion-buttons>
                <ion-buttons class="anunciarexpanded" style="padding: top 20px;" *ngIf="bocina === true">
                    <ion-button (click)="onNotificate()">
                        <img src="assets/imgs_test/hover.png" height="auto" width="auto" slot="end"/>
                    </ion-button>
                </ion-buttons>
            </ion-col>
          </ion-row>
        </ion-grid>
  </div>
  <ion-item>
      <div class="virtual">
          <div style=" background-color: #000030;color:#ffff;width: 450px;">
            <ion-label style="margin-left:80px">
            MI OFICINA VIRTUAL
          </ion-label>
      </div>
      <div style="height: 5px;"></div>
      <div style=" background-color: orangered;color:#ffff;width: 450px;">
        <ion-label style="margin-left: 10px;">Clase: {{ clase }}</ion-label>
        <ion-label style="margin-top: -18px; margin-left: 260px;">ID:{{ codigo }}</ion-label>
      </div>
      <div style="height: 5px;"></div>
      <div style=" background-color: orangered;color:#ffff;width: 450px;">
        <ion-label style="margin-left: 50px;">Acumulado de puntos: {{ acumuladoPuntos }}</ion-label>
      </div>
      <div style="height: 10px;"></div>
      <ion-label style="color: #000030; margin-left: 50px;">1 pto. equivale a {{ precio_Punto }} CUP</ion-label>
      <div style="height: 5px;"></div>
      <div>
        <ion-grid style="color: #000030">
           <ion-row>
            <ion-col size="auto">
              <u (click)="compra()">
                <img
              src="assets/imgs_test/bolsita-sin-fondo.png"
              height="25px"
              width="25px"
              alt="No Image" slot="start" style="margin-bottom: -3px;"/>
              Comprar puntos
              </u>
            </ion-col>
            <ion-col size="auto"><u (click)="vende()"><img
              src="assets/imgs_test/bolsita-sin-fondo.png"
              height="25px"
              width="25px"
              alt="No Image" slot="start" style="margin-bottom: -3px;"/>Vender puntos</u></ion-col>
           </ion-row>
        </ion-grid>
      </div>
           <p style="margin-left:80px;color: #000030">Cantidad de referidos: <strong>{{ cantReferidos }}</strong></p>
           <p style="margin-left:80px;color: #000030">Compras directas: <strong>{{ compras }}</strong></p>
           <!--p style="margin-left:80px;color: #000030" *ngIf="codigo">Enlace de Referido.</p>
           <p style="margin-left:80px;color: #000030" *ngIf="codigo">https://setvmas.com/{{ codigo }}</p-->
           <ion-grid style="margin-left:20px;color: #000030"> 
              <ion-row>
                  <ion-col size="auto"*ngIf="codigo"><ion-icon name="copy" style="width:20px;height:20px"></ion-icon><u (click)="enlace()">Copiar Código</u></ion-col>
                  <ion-col size="auto"><ion-icon name="qr-scanner" style="width:20px;height:20px"></ion-icon><u (click)="qr()">Mostrar Código</u></ion-col>
              </ion-row>
              <div style="background-color: rgb(141, 201, 224);color: #000030; margin-left: -20px; width: 450px; height: auto;">
                <p style="padding: 10px;text-align: justify;">
                  !!!Rebaja de precios en las compras directas 
                </p>
                <p style="padding: 10px;text-align: justify;">
                  del 16 al 18, no pierdas esta oportunidad!!!
                </p>
              </div>
           </ion-grid>
          </div>
  </ion-item>
  
    <ion-list >
      <ion-item-sliding >
        <ion-item  class="ion-text-wrap" text-wrap (click)="toggleGroup()" [ngClass]="{active: isGroupShown(i)}">
          <ion-label class="label">
            Mis Anuncios<ion-icon class="icon" [name]="icon" slot="end"></ion-icon>
          </ion-label>
        </ion-item>
        <div *ngIf="group === true">
          <ion-card  class="card">
            <ion-grid>
                <ion-row class="title">
                  <ion-col>Anuncios</ion-col>
                  <ion-col></ion-col>
                  <ion-col></ion-col>
                  <ion-col>Acción</ion-col>
                </ion-row>
                <ion-row *ngFor="let item of anuncio">
                  <ion-col>{{item.Titulo}}</ion-col>
                  <ion-col >
                      <ion-buttons>
                          <ion-button (click)="onEditAnnounce(item.AnuncioId)" style="margin-left: 50px;margin-right: -15px;">
                              <ion-icon name="create" slot="end"></ion-icon>
                          </ion-button>
                          <ion-button (click)="onDeleteAnnounce(item.AnuncioId)">
                              <ion-icon name="trash" slot="end"></ion-icon>
                          </ion-button>
                      </ion-buttons>
                  </ion-col>
                </ion-row>
                  <!--div class="row header">
                    <div class="col">Anuncios</div>
                    <div class="col">Tipo</div>
                    <div class="col">Opciones</div>
                  </div>
                  <div class="row" *ngFor="let item of anunciolist">
                    <div class="col">{{item.titulo}}</div>
                    <div class="col" *ngIf="item.destacado === null">Simple</div>
                    <div class="col" *ngIf="item.destacado !== null">Avanazado</div>
                    <div class="col">
                      <ion-buttons>
                          <ion-button (click)="onEditAnnounce(item.nuevo,item.precio,item.titulo,item.nombre,item.telefono,item.email,item.municipio,item.provincia,item.images,item.etiqueta,item.accion,item.destacado,item.masetiqueta,item.autorrenovable,item.frecuencia,item.web,item.url,item.webanuncio,item.nombreimagen,item.imagenadicional,item.imagenbarnerinferior,item.imagenbarnersuperior,item.diaspagardestacado,item.diaspagardescribe,item.diaspagarautorrenovable,item.diaspagarweb,item.diaspagarimagenadicional,item.diaspagarbarner,item.diaspagarbarnersuperior)">
                              <ion-icon name="edit" slot="end"></ion-icon>
                          </ion-button>
                          <ion-button (click)="onDeleteAnnounce(item.titulo)">
                              <ion-icon name="trash" slot="end"></ion-icon>
                          </ion-button>
                      </ion-buttons>
                    </div>
                  </div-->
            </ion-grid>
        </ion-card>
        </div>
      </ion-item-sliding>
      <ion-item-sliding >
        <ion-item  class="ion-text-wrap" text-wrap (click)="toggleGroup1()" [ngClass]="{active: isGroupShown1(i)}">
          <ion-label class="label">
            Anuncios Borradores<ion-icon class="icon1" [name]="icon1" slot="end"></ion-icon>
          </ion-label>
        </ion-item>
        <div *ngIf="group1 === true">
          <ion-card  class="card">
            <ion-grid>
                <ion-row class="title">
                  <ion-col>Título</ion-col>
                  <ion-col>Descripción</ion-col>
                  <ion-col>Precio</ion-col>
                  <ion-col>Opciones</ion-col>
                </ion-row>
                <ion-row *ngFor="let item of anuncioborrador">
                  <ion-col>{{item.titulo}}</ion-col>
                  <ion-col>{{item.descripcion}}</ion-col>
                  <ion-col>{{item.precio}}</ion-col>
                  <ion-col>
                      <ion-buttons>
                          <ion-button (click)="onEditAnnounce(item.anuncioId)">
                              <ion-icon name="create" slot="end"></ion-icon>
                          </ion-button>
                          <ion-button (click)="onDeleteAnnounceBorrador(item.anuncioId)">
                              <ion-icon name="trash" slot="end"></ion-icon>
                          </ion-button>
                      </ion-buttons>
                  </ion-col>
                </ion-row>
                  <!--div class="row header">
                    <div class="col">Anuncios</div>
                    <div class="col">Tipo</div>
                    <div class="col">Opciones</div>
                  </div>
                  <div class="row" *ngFor="let item of anunciolist">
                    <div class="col">{{item.titulo}}</div>
                    <div class="col" *ngIf="item.destacado === null">Simple</div>
                    <div class="col" *ngIf="item.destacado !== null">Avanazado</div>
                    <div class="col">
                      <ion-buttons>
                          <ion-button (click)="onEditAnnounce(item.nuevo,item.precio,item.titulo,item.nombre,item.telefono,item.email,item.municipio,item.provincia,item.images,item.etiqueta,item.accion,item.destacado,item.masetiqueta,item.autorrenovable,item.frecuencia,item.web,item.url,item.webanuncio,item.nombreimagen,item.imagenadicional,item.imagenbarnerinferior,item.imagenbarnersuperior,item.diaspagardestacado,item.diaspagardescribe,item.diaspagarautorrenovable,item.diaspagarweb,item.diaspagarimagenadicional,item.diaspagarbarner,item.diaspagarbarnersuperior)">
                              <ion-icon name="edit" slot="end"></ion-icon>
                          </ion-button>
                          <ion-button (click)="onDeleteAnnounce(item.titulo)">
                              <ion-icon name="trash" slot="end"></ion-icon>
                          </ion-button>
                      </ion-buttons>
                    </div>
                  </div-->
            </ion-grid>
        </ion-card>
        </div>
      </ion-item-sliding>
    </ion-list>
  
    
    <ion-item>
        <ion-slides page="true" [options]="slideOpts">
            <ion-slide class="slide" *ngFor="let item of barnerInferior">
                <div class="contenedor">
                    <!--img
                        src="assets/imgs_test/{{item.category}}.png"
                        height="150px"
                        width="180px"
                        alt="No Image"
                        class="heaven"/-->
                    <img
                    [src]="'https://setvmas.com/api/uploads/banners/inferior/'+item.ImageName"
                    class="banner"
                    alt="No Image"
                    class="sombra"
                    />
                    <!--div class="centrado">
                  Título del anuncio en una línea
                  <br>
                  Categoría del anuncio
                </div-->
                </div>
            </ion-slide>
        </ion-slides>
    </ion-item>
</ion-content>
<ion-footer style="height: auto;position: relative;">
  <ion-toolbar>
      <div class="footer">
        <ion-icon  (click)="menu()" class="icon_footer" [name]="arrow"></ion-icon>
        <div *ngIf="menus === true" style="margin-left: 150px;">
          <p (click)="inicio()">INICIO</p>
          <p (click)="oficina()" *ngIf="currentUser">OFICINA</p>
          <p (click)="ayuda()">AYUDA</p>
          <p (click)="contacto()">CONTÁCTANOS</p>
          <div style="height: 10px;"></div>
        </div>
      </div>
  </ion-toolbar>
 
</ion-footer>

